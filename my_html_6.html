<!DOCTYPE html>
<html>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?bc6db7abfb9862a0d43ea41ed01d1f2c";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<head>
  <meta charset="UTF-8">
  <title>C</title>
  <style>
    body {
      font-family: Consolas, monospace;
      background-color: #f5f5f5;
      padding: 20px;
    }

    h1 {
      color: #333;
      font-size: 24px;
      margin-bottom: 20px;
    }

    h2 {
      color: #666;
      font-size: 20px;
      margin-top: 40px;
      margin-bottom: 10px;
    }

    pre {
      background-color: #fff;
      padding: 10px;
      border-radius: 5px;
      font-size: 14px;
      line-height: 1.5;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    code {
      display: block;
      color: #000;
    }

    .hljs {
      display: block;
      overflow-x: auto;
      padding: 0.5em;
      color: #abb2bf;
      background: #282c34;
    }

    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-section,
    .hljs-title,
    .hljs-built_in,
    .hljs-literal,
    .hljs-template-tag,
    .hljs-template-variable,
    .hljs-type,
    .hljs-addition {
      color: #e06c75;
    }

    .hljs-string,
    .hljs-quote,
    .hljs-meta,
    .hljs-tag .hljs-value .hljs-string,
    .hljs-regexp,
    .hljs-symbol,
    .hljs-bullet,
    .hljs-link,
    .hljs-deletion {
      color: #98c379;
    }

    .hljs-number,
    .hljs-selector-class,
    .hljs-selector-attr,
    .hljs-selector-pseudo,
    .hljs-template-tag,
    .hljs-template-variable,
    .hljs-variable,
    .hljs-type .hljs-tag,
    .hljs-typename {
      color: #d19a66;
    }

    .hljs-comment,
    .hljs-quote {
      color: #5c6370;
      font-style: italic;
    }

    .hljs-doctag,
    .hljs-meta .hljs-keyword,
    .hljs-meta .hljs-string {
      color: #c678dd;
    }

    .hljs-attribute {
      color: #56b6c2;
    }

    .hljs-keyword {
      font-weight: bold;
    }

    .hljs-selector-tag,
    .hljs-title,
    .hljs-section,
    .hljs-selector-id {
      font-weight: 700;
    }
	.audio-wrapper {
        display: flex;
        justify-content: center;
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>
<body>
	<div class="location">
      <span class="location-icon animate-slide-in-up">
      </span>
      <span class="location-text animate-slide-in-down"> </span>
    </div>
	<div class="location">
      <span class="location-icon animate-slide-in-up">
      </span>
      <span class="location-text animate-slide-in-down"> </span>
    </div>
<div class="audio-wrapper">
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=2013678511&auto=1&height=66"></iframe>
</div>
<pre>
	<code>
#include  < stdio.h >
#include  < stdlib.h >
#include  < string.h >
//导入包
#define MAX_STUDENTS 50
#define MAX_NAME_LENGTH 50
//定义两个宏，MAX_STUDENTS的值为50，MAX_NAME_LENGTH的值为50
struct Student {
    char name[MAX_NAME_LENGTH];
    char id[MAX_NAME_LENGTH];
    float score;
};
//定义一个结构体，结构体名为Student，内有属性name字符数组，还有id字符数组，还有一个浮点变量
struct Student students[MAX_STUDENTS];//初始化结构体struct Student为类型名，students为结构体数组变量名
int count = 0;//定义一个int类型的count的变量，初始变量值为0

void clearBuffer() {//定义一个名为clearBuffer的无返回值的函数
    int ch;//定义一个int类型的变量，变量名为ch
    while ((ch = getchar()) != '\n' && ch != EOF);//进行一个while的循环，当输入的为换行，或者到文件结尾的时候就结束循环
}
//getchar（）是从输入行读取一个字符，剩下的保留在缓存中，待读取，将读取的赋给ch，再用ch判等，&&代表两边的判等值都为真的时候为真
void addStudent() {//定义一个无返回值的函数，名为addStudent
    if (count >= MAX_STUDENTS) {//一个if判断，如果count的值大于等于MAX_STUDENTS则为真
        printf("无法添加更多学生。\n");//打印“无法添加更多学生。”并换行
        return;//返回空值，相当于结束这个函数
    }

    struct Student newStudent;//再定义一个结构体变量，变量名为newStudent
    printf("请输入学生姓名：");//打印“请输入学生姓名：”
    fgets(newStudent.name, sizeof(newStudent.name), stdin);//执行输入指令，stdin是标准输入即为键盘输入，将输入的内容赋值给newStudent.name，并且在sizeof(newStudent.name)大小再减去一的情况下的数值为输入内容的最大值，或者读取到第一个换行符，并且保存换行符再到末尾添加一个\0形成字符串
    newStudent.name[strcspn(newStudent.name, "\n")] = '\0';  // 移除换行符，因为之前说了，可能会输入换行符，换行符会导致输入的字符串不理想，要进行一个判断去除的过程
//size_t strcspn(const char *str, const char *charset);这是函数原型返回相等字符的最大个数，将这个最大个数的值作为下标给数组，再将此元素设置为\0形成字符串，因为数组下标会比实际长度小一

    printf("请输入学生学号：");//打印“请输入学生学号：”
    fgets(newStudent.id, sizeof(newStudent.id), stdin);//从标准输入中读取sizeof(newStudent.id)-1个字符或者遇到第一个换行符结束，将此字符串付给newStudent.id，还会保存换行符
    newStudent.id[strcspn(newStudent.id, "\n")] = '\0';//去除换行符的过程

    printf("请输入学生成绩：");//标准屏幕打印函数，打印"请输入学生成绩："
    scanf_s("%f", &newStudent.score);//输入函数，第一个参数%f指明输入的是一个浮点数，其次将输入的值赋值给所指地址上的变量，&newStudent.score的&是取地址符

    students[count] = newStudent;/将这个newStudent结构体赋值给students中下标为count的元素
    count++;//将count自加一
    printf("学生添加成功。\n");//标准屏幕打印函数，打印"学生添加成功。\n"，\n是指添加一个换行
}

void displayStudents() {//一个名为displayStudents的无返回值的函数
    if (count == 0) {//if判断，当count为0时为真
        printf("暂无学生信息。\n");//标准屏幕打印函数，打印"暂无学生信息。\n",\n是指添加一个换行
        return;//返回空值，相当于结束这个函数
    }

    printf("学生信息列表：\n");//标准屏幕打印函数，打印"学生信息列表：\n",\n是指添加一个换行
    for (int i = 0; i < count; i++) {//for循环，初始化变量i，当i小于count时为真，i自加一
        struct Student student = students[i];//将下标为i的结构体数组的值赋值给结构体
        printf("姓名：%s，学号：%s，成绩：%.2f\n", student.name, student.id, student.score);//分别打印结构的各个信息
    }
}

void searchStudent() {//定义一个无返回值的 函数，函数名为searchStudent
    if (count == 0) {//if判断，当count等于0时，值为真
        printf("暂无学生信息。\n");//打印
        return;//返回空值，相当于结束这个函数
    }

    char searchName[MAX_NAME_LENGTH];//定义一个大小为MAX_NAME_LENGTH的char类型的函数
    printf("请输入要搜索的学生姓名：");//标准屏幕打印函数
    clearBuffer();//执行这个名为clearBuffer的函数
    fgets(searchName, sizeof(searchName), stdin);//从标准输入中读取sizeof(searchName)-1大小的字符，或者读取到第一个换行符，会将换行符保留下，并在结尾添加\0形成字符串
    searchName[strcspn(searchName, "\n")] = '\0';  // 移除换行符

    int matchCount = 0;//定义一个int类型的变量
    for (int i = 0; i < count; i++) {//for循环，初始化变量i为0，当i小于count时为真，i自增
        struct Student student = students[i];//定义一个结构体变量，将下标为i的结构体数组的值赋值
        if (strcmp(student.name, searchName) == 0) {//if判断，strcmp的判断student.name与searchName的大小，相等为0，小于为负数，大于为正数
            printf("姓名：%s，学号：%s，成绩：%.2f\n", student.name, student.id, student.score);
            matchCount++;
        }
    }

    if (matchCount == 0) {
        printf("未找到匹配的学生。\n");
    }
    else {
        printf("共找到 %d 个匹配的学生。\n", matchCount);
    }
}

void deleteStudent() {
    if (count == 0) {
        printf("暂无学生信息。\n");
        return;
    }

    int deleteId;
    printf("请输入要删除的学生学号：");
    scanf_s("%d", &deleteId);

    int deleteIndex = -1;
    for (int i = 0; i < count; i++) {
        struct Student student = students[i];
        if (student.id == deleteId) {
            deleteIndex = i;
            break;
        }
    }

    if (deleteIndex == -1) {
        printf("未找到该学号的学生。\n");
        return;
    }

    for (int i = deleteIndex; i < count - 1; i++) {
        students[i] = students[i + 1];
    }

    count--;
    printf("学生删除成功。\n");
}

int main() {
    int choice;

    while (1) {
        printf("\n学生成绩管理系统\n");
        printf("==================\n");
        printf("1. 添加学生信息\n");
        printf("2. 显示学生信息\n");
        printf("3. 搜索学生信息\n");
        printf("4. 删除学生信息\n");
        printf("5. 退出\n");
        printf("请选择操作：");
        scanf_s("%d", &choice);

        switch (choice) {
        case 1:
            clearBuffer();
            addStudent();
            break;
        case 2:
            displayStudents();
            break;
        case 3:
            clearBuffer();
            searchStudent();
            break;
        case 4:
            deleteStudent();
            break;
        case 5:
            exit(0);
        default:
            printf("无效选择，请重新选择。\n");
        }
    }

    return 0;
}


	</code>
</pre>
</body>
</html>
